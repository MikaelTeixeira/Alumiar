{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alumiar</title>
  <link rel="stylesheet" href="{% static 'users/css/student_register.css' %}">
</head>

<body>
  <div class="container">

    <a id="back-button" href="{% url 'select_register' %}" class="back-btn"></a>

    <form id="form-cadastro"
          method="POST"
          enctype="multipart/form-data"
          action="{% url 'student_register' %}">
      
      {% csrf_token %}

      {% if messages %}
        {% for message in messages %}
          <div class="error-box">{{ message }}</div>
        {% endfor %}
      {% endif %}

      {% if user_form.non_field_errors %}
        <div class="error-box">{{ user_form.non_field_errors }}</div>
      {% endif %}
      {% if profile_form.non_field_errors %}
        <div class="error-box">{{ profile_form.non_field_errors }}</div>
      {% endif %}

      <div id="input-left">

        <div class="input-place">
          <input type="text"
                 name="nome_completo"
                 class="input"
                 value="{{ profile_form.nome_completo.value|default:'' }}"
                 required>
          <small class="input-indicator">Digite seu nome completo</small>
          {% for error in profile_form.nome_completo.errors %}
            <p class="input-error">{{ error }}</p>
          {% endfor %}
        </div>

        <div class="input-place">
          <input type="email"
                 name="email"
                 class="input"
                 value="{{ user_form.email.value|default:'' }}"
                 required>
          <small class="input-indicator">Digite seu e-mail</small>
          {% for error in user_form.email.errors %}
            <p class="input-error">{{ error }}</p>
          {% endfor %}
        </div>

        <div class="input-place">
          <input type="password"
                 name="password"
                 class="input"
                 required>
          <small class="input-indicator">Digite sua senha</small>
          {% for error in user_form.password.errors %}
            <p class="input-error">{{ error }}</p>
          {% endfor %}
        </div>

        <div class="input-place">
          <input type="text"
                 name="cpf"
                 class="input"
                 value="{{ user_form.cpf.value|default:'' }}">
          <small class="input-indicator">Digite seu CPF</small>
          {% for error in user_form.cpf.errors %}
            <p class="input-error">{{ error }}</p>
          {% endfor %}
        </div>

        <div class="input-place">
          <input type="date"
                 name="data_nascimento"
                 class="input"
                 value="{{ user_form.data_nascimento.value|default:'' }}"
                 required>
          <small class="input-indicator">Digite sua data de nascimento</small>
          {% for error in user_form.data_nascimento.errors %}
            <p class="input-error">{{ error }}</p>
          {% endfor %}
        </div>
      </div>

      <div id="input-right">

        <div id="upper-input">
          <div id="crp-supervisor-input" class="input-place">
            <input type="text"
                   name="crp_supervisor"
                   class="input"
                   value="{{ profile_form.crp_supervisor.value|default:'' }}">
            <small class="input-indicator">CRP do supervisor</small>
            {% for error in profile_form.crp_supervisor.errors %}
              <p class="input-error">{{ error }}</p>
            {% endfor %}
          </div>
        </div>

        <div id="middle-inputs">

          <div id="curriculum-input" class="file-input">
            <label class="file-upload">
              <img class="Paperclip-img"
                   src="{% static 'users/imgs/paperclip.svg' %}">
              <input type="file" name="comprovante_matricula" hidden required>
            </label>
            <small class="file-upload-indicator">Comprovante de matr√≠cula</small>
            {% for error in profile_form.comprovante_matricula.errors %}
              <p class="input-error">{{ error }}</p>
            {% endfor %}
          </div>

          <div id="doc-with-pic-place" class="file-input">
            <label class="file-upload">
              <img class="Paperclip-img"
                   src="{% static 'users/imgs/paperclip.svg' %}">
              <input type="file" name="documento_oficial" hidden required>
            </label>
            <small class="file-upload-indicator">Documento com foto</small>
            {% for error in profile_form.documento_oficial.errors %}
              <p class="input-error">{{ error }}</p>
            {% endfor %}
          </div>

        </div>

        <div id="lower-input">

          <label class="file-upload">
            <img class="Paperclip-img"
                 src="{% static 'users/imgs/paperclip.svg' %}">
            <input type="file" name="foto_perfil" hidden required>
          </label>
          <small class="file-upload-indicator">Foto de perfil</small>
          {% for error in profile_form.foto_perfil.errors %}
            <p class="input-error">{{ error }}</p>
          {% endfor %}
        </div>

        <button id="register-button" type="submit">REGISTRAR</button>

      </div>

    </form>
  </div>

  <script src="{% static 'users/js/student.js' %}"></script>
</body>
</html>
